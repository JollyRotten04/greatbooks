<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamlet - Social Network</title>
<style>
    :root {
        --fb-blue: #1877f2;
        --fb-bg: #f0f2f5;
    }

    * {
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.6;
        background: var(--fb-bg);
    }

    /* FACEBOOK-STYLE NAVBAR */
    nav {
        background: #fff;
        padding: 8px 16px;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 100;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        border-bottom: 1px solid #e4e6eb;
    }
    
    nav .nav-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    nav .logo {
        font-size: 28px;
        font-weight: bold;
        color: var(--fb-blue);
        font-family: cursive;
        cursor: pointer;
    }

    nav ul {
        list-style: none;
        display: flex;
        gap: 8px;
        margin: 0;
        padding: 0;
    }
    
    nav a {
        color: #65676b;
        text-decoration: none;
        font-size: 15px;
        padding: 8px 12px;
        border-radius: 8px;
        transition: background 0.2s;
        font-weight: 500;
    }
    
    nav a:hover {
        background: #f0f2f5;
    }

    /* PROFILE HEADER */
    .profile-header {
        background: #fff;
        margin-top: 56px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .cover-photo {
        width: 100%;
        height: 350px;
        /* Default gradient if image fails */
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        background-size: cover;
        background-position: center;
        position: relative;
    }

    .profile-info {
        max-width: 940px;
        margin: 0 auto;
        padding: 0 16px;
        position: relative;
    }

    .profile-picture {
        width: 168px;
        height: 168px;
        border-radius: 50%;
        border: 4px solid #fff;
        position: absolute;
        /* Aligned to bottom edge */
        bottom: 24px;
        left: 16px;
        background: #e4e6eb;
        overflow: hidden;
    }

    .profile-picture img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .profile-picture div {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        font-size: 80px;
        background: #e4e6eb;
    }

    .profile-details {
        padding-left: 200px;
        padding-top: 16px;
        padding-bottom: 16px;
    }

    .profile-name {
        font-size: 32px;
        font-weight: bold;
        margin: 0;
        color: #050505;
    }

    .profile-bio {
        color: #65676b;
        font-size: 15px;
        margin: 4px 0;
    }

    .profile-tabs {
        border-top: 1px solid #e4e6eb;
        display: flex;
        gap: 8px;
        padding-top: 4px;
        margin-top: 16px;
    }

    .tab {
        padding: 16px 16px 12px;
        color: #65676b;
        font-weight: 600;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
    }

    .tab:hover {
        background: #f0f2f5;
        border-radius: 8px 8px 0 0;
    }

    .tab.active {
        color: var(--fb-blue);
        border-bottom-color: var(--fb-blue);
    }

    /* MAIN CONTENT AREA */
    .main-content {
        max-width: 940px;
        margin: 16px auto;
        padding: 0 16px;
        display: grid;
        grid-template-columns: 360px 1fr;
        gap: 16px;
    }

    /* LEFT SIDEBAR */
    .sidebar {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .info-card {
        background: #fff;
        border-radius: 8px;
        padding: 16px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .info-card h2 {
        font-size: 20px;
        font-weight: bold;
        margin: 0 0 16px 0;
        color: #050505;
    }

    .info-item {
        display: flex;
        align-items: start;
        gap: 12px;
        margin-bottom: 12px;
        font-size: 15px;
        color: #050505;
    }

    .info-icon {
        width: 20px;
        height: 20px;
        color: #65676b;
    }

    /* FRIENDS GRID */
    .friends-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
    }

    .friend-card {
        background: #fff;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s;
        border: 1px solid #e4e6eb;
    }

    .friend-card:hover {
        transform: translateY(-2px);
    }

    .friend-avatar {
        width: 100%;
        height: 120px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        overflow: hidden;
    }

    .friend-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .friend-name {
        padding: 8px;
        font-weight: 600;
        font-size: 13px;
        color: #050505;
    }

    /* POSTS AREA */
    .posts-area {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .post-card {
        background: #fff;
        border-radius: 8px;
        padding: 16px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .post-header {
        display: flex;
        gap: 8px;
        margin-bottom: 12px;
    }

    .post-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        overflow: hidden;
    }
    
    .post-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .post-info h3 {
        margin: 0;
        font-size: 15px;
        font-weight: 600;
        color: #050505;
    }

    .post-time {
        font-size: 13px;
        color: #65676b;
    }

    .post-content {
        font-size: 15px;
        line-height: 1.5;
        color: #050505;
        margin-bottom: 12px;
    }

    .post-content h3 {
        font-size: 18px;
        margin-top: 16px;
        margin-bottom: 8px;
    }

    /* POST REACTIONS */
    .post-actions {
        border-top: 1px solid #e4e6eb;
        padding-top: 8px;
        margin-top: 12px;
        display: flex;
        gap: 4px;
    }

    .reaction-summary {
        display: flex;
        align-items: center;
        gap: 4px;
        padding: 4px 0;
        margin-bottom: 8px;
        font-size: 13px;
        color: #65676b;
    }

    .reaction-icons {
        display: flex;
        gap: 2px;
    }

    .reaction-icon {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        border: 2px solid #fff;
        margin-left: -4px;
    }

    .reaction-icon:first-child {
        margin-left: 0;
    }

    .action-btn {
        flex: 1;
        padding: 8px;
        background: none;
        border: none;
        color: #65676b;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        transition: background 0.2s;
        position: relative;
    }

    .action-btn:hover {
        background: #f0f2f5;
    }

    .action-btn.reacted {
        color: var(--fb-blue);
    }

    /* REACTION PICKER STYLING */
    .reaction-picker {
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%) scale(0);
        margin-bottom: 10px; /* Slight gap for visuals */
        background: #fff;
        border-radius: 50px;
        padding: 6px 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        display: flex;
        gap: 6px;
        opacity: 0;
        pointer-events: none;
        z-index: 10;
        
        /* UPDATED: Transition logic for delayed closing */
        transition: all 0.3s ease;
        transition-delay: 0.5s; /* Delay before it hides (Closing Delay) */
    }

    /* THE INVISIBLE BRIDGE FIX:
       Creates a transparent area between the button and the picker 
       so the mouse doesn't "fall" into the gap.
    */
    .reaction-picker::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        height: 20px; /* Covers the margin gap */
        background: transparent;
    }

    .action-btn:hover .reaction-picker {
        transform: translateX(-50%) scale(1);
        opacity: 1;
        pointer-events: all;
        
        /* UPDATED: Transition logic for delayed opening */
        transition-delay: 0.4s; /* Delay before it shows (Opening Delay) */
    }

    .reaction-option {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        cursor: pointer;
        transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .reaction-option:hover {
        transform: scale(1.5) translateY(-5px); /* Pop up slightly */
    }

    .reaction-option.selected {
        background: #e7f3ff;
        border-radius: 50%;
    }

    /* COMMENTS SECTION */
    .comments-section {
        margin-top: 12px;
        border-top: 1px solid #e4e6eb;
        padding-top: 12px;
    }

    .comment-input-container {
        display: flex;
        gap: 8px;
        align-items: center;
        margin-bottom: 12px;
    }

    .comment-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        flex-shrink: 0;
    }

    .comment-input-wrapper {
        flex: 1;
        position: relative;
    }

    .comment-input {
        width: 100%;
        padding: 8px 12px;
        border-radius: 18px;
        border: none;
        background: #f0f2f5;
        font-size: 15px;
        font-family: inherit;
        resize: none;
        min-height: 36px;
        max-height: 100px;
        overflow-y: auto;
    }

    .comment-input:focus {
        outline: none;
        background: #e4e6eb;
    }

    .comment-submit {
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--fb-blue);
        color: white;
        border: none;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        display: none;
    }

    .comment-input:focus + .comment-submit,
    .comment-input:not(:placeholder-shown) + .comment-submit {
        display: block;
    }

    .comment-submit:hover {
        background: #166fe5;
    }

    .comment {
        display: flex;
        gap: 8px;
        margin-bottom: 8px;
    }

    .comment-content {
        flex: 1;
    }

    .comment-bubble {
        background: #f0f2f5;
        padding: 8px 12px;
        border-radius: 18px;
        display: inline-block;
        max-width: 100%;
    }

    .comment-author {
        font-weight: 600;
        font-size: 13px;
        color: #050505;
        margin-bottom: 2px;
    }

    .comment-text {
        font-size: 15px;
        color: #050505;
        word-wrap: break-word;
    }

    .comment-meta {
        display: flex;
        gap: 12px;
        margin-top: 4px;
        margin-left: 12px;
        font-size: 12px;
        color: #65676b;
    }

    .comment-meta span {
        cursor: pointer;
        font-weight: 600;
    }

    .comment-meta span:hover {
        text-decoration: underline;
    }

    .view-more-comments {
        color: #65676b;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        margin-left: 40px;
        margin-bottom: 8px;
        display: inline-block;
    }

    .view-more-comments:hover {
        text-decoration: underline;
    }

    .themes-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        margin-top: 12px;
    }

    .theme-tag {
        background: #e7f3ff;
        color: var(--fb-blue);
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 600;
        text-align: center;
    }

    /* ABOUT TAB */
    .about-section {
        background: #fff;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        margin-bottom: 16px;
    }

    .about-section h2 {
        font-size: 20px;
        font-weight: bold;
        margin: 0 0 16px 0;
        color: #050505;
    }

    .about-section h3 {
        font-size: 16px;
        font-weight: bold;
        margin: 16px 0 8px 0;
        color: #050505;
    }

    .about-section p {
        margin: 12px 0;
        line-height: 1.6;
    }

    .about-section ul {
        margin: 8px 0 8px 24px;
        padding: 0;
    }

    .about-section li {
        margin-bottom: 8px;
    }

    /* FRIENDS TAB */
    .friends-page-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;
    }

    .friend-page-card {
        background: #fff;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .friend-page-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    .friend-page-avatar {
        width: 100%;
        height: 200px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 80px;
        overflow: hidden;
    }

    .friend-page-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .friend-page-info {
        padding: 16px;
    }

    .friend-page-name {
        font-size: 18px;
        font-weight: 600;
        color: #050505;
        margin: 0 0 8px 0;
    }

    .friend-page-role {
        font-size: 14px;
        color: #65676b;
        margin: 0;
    }

    .hidden {
        display: none !important;
    }

    @media (max-width: 900px) {
        .main-content {
            grid-template-columns: 1fr;
        }
        
        .profile-details {
            padding-left: 16px;
            padding-top: 140px;
        }
        
        .profile-picture {
            left: 50%;
            transform: translateX(-50%);
            bottom: 0;
        }

        .friends-page-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
</head>
<body style="position: relative;">

<nav>
    <div class="nav-content">
        <div class="logo" onclick="goToHamlet()">Hamlet</div>
        <ul>
            <li><a href="#" onclick="event.preventDefault(); switchTab('about')">About</a></li>
            <li><a href="#" onclick="event.preventDefault(); switchTab('friends')">Characters</a></li>
            <li><a href="#" onclick="event.preventDefault(); switchTab('posts')">Story</a></li>
        </ul>
    </div>
</nav>

<div class="profile-header">
    <div class="cover-photo">
        </div>
    <div class="profile-info">
        <div class="profile-picture">
            </div>
        <div class="profile-details">
            <h1 class="profile-name" id="profileName">Hamlet, Prince of Denmark</h1>
            <p class="profile-bio" id="profileBio">To be, or not to beâ€”that is the question</p>
            <p class="profile-bio" id="profileLocation">ğŸ° Lives in Elsinore Castle â€¢ ğŸ‘‘ Prince of Denmark</p>
            <div class="profile-tabs">
                <div class="tab active" onclick="switchTab('posts')">Posts</div>
                <div class="tab" onclick="switchTab('about')">About</div>
                <div class="tab" onclick="switchTab('friends')">Friends</div>
            </div>
        </div>
    </div>
</div>

<div class="main-content">
    <div class="sidebar">
        <div class="info-card">
            <h2>Intro</h2>
            <div id="introContent">
                </div>
        </div>

        <div class="info-card">
            <h2>Friends</h2>
            <p style="color: #65676b; font-size: 15px; margin-bottom: 12px;">Mutual Friends</p>
            <div class="friends-grid" id="sidebarFriendsGrid">
                </div>
        </div>
    </div>

    <div class="posts-area" id="postsTab">
        </div>

    <div class="posts-area hidden" id="aboutTab">
        <div id="aboutTabContent">
            </div>
    </div>

    <div class="posts-area hidden" id="friendsTab">
        <div class="friends-page-grid" id="mainFriendsGrid">
            </div>
    </div>
</div>

<script>
// Data Store
const reactions = {
    like: { emoji: 'ğŸ‘', color: '#1877f2', label: 'Like' },
    love: { emoji: 'â¤ï¸', color: '#f33e58', label: 'Love' },
    haha: { emoji: 'ğŸ˜†', color: '#f7b125', label: 'Haha' },
    wow: { emoji: 'ğŸ˜®', color: '#f7b125', label: 'Wow' },
    sad: { emoji: 'ğŸ˜¢', color: '#f7b125', label: 'Sad' },
    angry: { emoji: 'ğŸ˜ ', color: '#e9710f', label: 'Angry' }
};

// Store reactions per post (keyed by profileId-postIndex)
const postReactions = {};

// Store comments per post (keyed by profileId-postIndex)
const postComments = {};

const profiles = {
    hamlet: {
        name: 'Hamlet, Prince of Denmark',
        bio: 'To be, or not to be... ğŸ’€',
        location: 'ğŸ° Lives in Elsinore Castle â€¢ ğŸ‘‘ Prince of Denmark',
        image: './assets/hamlet.png',
        cover: 'https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=1200&q=80', // Kronborg Castle (Elsinore)
        emoji: 'ğŸ­',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ­</span><span>Studied at University of Wittenberg</span></div>
            <div class="info-item"><span class="info-icon">ğŸ°</span><span>Lives in Elsinore, Denmark</span></div>
            <div class="info-item"><span class="info-icon">ğŸ‘‘</span><span>Prince of Denmark</span></div>
            <div class="info-item"><span class="info-icon">ğŸ’”</span><span>It's complicated</span></div>
            <div class="info-item"><span class="info-icon">âœï¸</span><span>Written by William Shakespeare</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background & Education</h2>
                <p>Prince Hamlet is the son of the late King Hamlet and Queen Gertrude. A dedicated intellectual, he spent his formative years studying at the <strong>University of Wittenberg</strong> in Germany, a center of Protestant Reformation thought. This academic background heavily influences his tendency to overthink, question metaphysical truths, and analyze moral dilemmas rather than act on impulse.</p>
            </div>
            <div class="about-section">
                <h2>Role in the Play</h2>
                <p>Hamlet is the titular protagonist and tragic hero. Following his father's sudden death and his mother's hasty remarriage to his uncle Claudius, Hamlet falls into a deep melancholy. His role transforms from a grieving son to an avenger when his father's ghost reveals that Claudius murdered him. Hamlet feigns madness ("antic disposition") to investigate the truth while concealing his intentions.</p>
            </div>
            <div class="about-section">
                <h2>Perspective & Philosophy</h2>
                <p>Hamlet represents the first modern "psychological" character in literature. He is deeply cynical about the state of humanity ("What a piece of work is man!") and obsessed with the concept of mortality (the famous "To be or not to be" soliloquy). He despises the corruption he sees in the Danish court, viewing Denmark as a "prison" and a garden of weeds.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>Hamlet stages "The Mousetrap" play to catch the King's conscience, accidentally kills Polonius behind an arras thinking it was Claudius, verbally assaults Ophelia and his mother, escapes an assassination attempt in England (sending Rosencrantz and Guildenstern to their deaths instead), and ultimately engages in a duel with Laertes.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>In the final act, Hamlet is wounded by Laertes' poisoned blade. Before dying, he manages to kill King Claudius and reconcile with Laertes. He dies in Horatio's arms, entrusting his friend to tell his story and endorsing Fortinbras of Norway as the new King of Denmark. His final words are, "The rest is silence."</p>
            </div>
        `,
        posts: [
            {
                title: "Just now",
                content: "Alas, poor Yorick! I knew him, Horatio. A fellow of infinite jest, of most excellent fancy. Now he's just... bone. Makes you think about where all the politicians and lawyers end up, doesn't it? Same dust. ğŸ’€âš°ï¸ #MementoMori #GraveyardShift"
            },
            {
                title: "2 hours ago",
                content: "Is it nobler in the mind to suffer? Honestly just asking for a friend. The slings and arrows are getting a bit much today. ğŸ’€ğŸ—¡ï¸ #existential #crisis #ToBeOrNotToBe"
            },
            {
                title: "Yesterday",
                content: "My mother just married my uncle. Literally two months after my dad died. The funeral baked meats did coldly furnish forth the marriage tables. ğŸ¤¢ #gross #betrayal #familydrama"
            },
            {
                title: "2 days ago",
                content: "Thinking of putting on a play. Something... cathartic. I wrote a few lines to insert into 'The Murder of Gonzago'. Let's see if anyone sweats. ğŸ­ğŸ‘€ #Mousetrap #ThePlayIsTheThing"
            },
            {
                title: "3 days ago",
                content: "Rosencrantz and Guildenstern are definitely hiding something. They think they can play me like a pipe? I am not so easily fretted. ğŸ¤¨ğŸ #TrustNoOne"
            }
        ]
    },
    shakespeare: {
        name: 'William Shakespeare',
        bio: 'Playwright, Poet & Actor',
        location: 'âœï¸ Stratford-upon-Avon, England',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Shakespeare.jpg/375px-Shakespeare.jpg',
        cover: 'https://images.unsplash.com/photo-1460518451285-97b6aa326961?auto=format&fit=crop&w=1200&q=80', // The Globe Theatre
        emoji: 'âœï¸',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ“…</span><span>Born April 26, 1564</span></div>
            <div class="info-item"><span class="info-icon">âœï¸</span><span>Wrote 38 plays and 154 sonnets</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background & Early Life</h2>
                <p>Born in Stratford-upon-Avon in 1564, Shakespeare was the son of a glove-maker. Little is known about his education, though he likely attended the King's New School. He married Anne Hathaway at 18 and later moved to London to pursue a career in theatre, eventually becoming a founding member of the Lord Chamberlain's Men.</p>
            </div>
            <div class="about-section">
                <h2>Role as Creator</h2>
                <p>Shakespeare is the architect of the <i>Hamlet</i> universe. He penned the tragedy around 1599-1601, adapting it from the Nordic legend of Amleth. Through this play, he explored the anxieties of the Elizabethan era, particularly succession crises and the religious tensions between Catholicism and Protestantism.</p>
            </div>
            <div class="about-section">
                <h2>Literary Perspective</h2>
                <p>Shakespeare's work in <i>Hamlet</i> is revolutionary for its focus on the inner mind. He utilized the soliloquy to an extent never before seen, allowing the audience to hear a character's thoughts in real-time. He blended high tragedy with low comedy (the gravediggers) and created a vocabulary that still permeates modern English.</p>
            </div>
            <div class="about-section">
                <h2>Legacy & Impact</h2>
                <p>Often called the 'Bard of Avon', his works include 38 plays, 154 sonnets, and two long narrative poems. <i>Hamlet</i> remains his longest play and is widely considered one of the most powerful and influential works of world literature.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>Shakespeare retired to Stratford around 1613 and died on April 23, 1616, at the age of 52. He is buried in the chancel of the Holy Trinity Church. His epitaph places a curse on anyone who moves his bones. His First Folio was published posthumously in 1623.</p>
            </div>
        `,
        posts: [
            {
                title: "Just now",
                content: "Thinking of killing off everyone in Act 5. Too much? Or just enough tragedy for a Friday night? ğŸ¤”ğŸ’€ #WriterProblems #Tragedy #EveryoneDies"
            },
            {
                title: "4 hours ago",
                content: "Invented a knock-knock joke today. 'Knock knock.' 'Who's there?' ...Wait, I need to work on this. Maybe I'll give it to the Porter in the Scottish play. ğŸšªğŸ˜‚"
            },
            {
                title: "Yesterday",
                content: "To be or not to be... that is a catchy line. Might use that. It really captures the human condition, don't you think? âœï¸âœ¨"
            },
            {
                title: "2 days ago",
                content: "The Globe is looking fantastic today! Nothing could possibly ever happen to this beautiful wooden thatched roof structure during a performance involving cannons. ğŸ”¥ğŸ­ #TheGlobe #TheatreLife"
            },
            {
                title: "3 days ago",
                content: "Just wrote sonnet 18. 'Shall I compare thee to a summer's day?' Felt cute, might delete later. â˜€ï¸ğŸŒ¹ #Poetry #SummerVibes"
            }
        ]
    },
    horatio: {
        name: 'Horatio',
        bio: 'Scholar and Loyal Friend',
        location: 'ğŸ“ University of Wittenberg',
        image: './assets/horatio.jpeg',
        cover: './assets/horatio.jpeg', // Old Library
        emoji: 'ğŸ‘¨',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ¤</span><span>Hamlet's best friend</span></div>
            <div class="info-item"><span class="info-icon">ğŸ“</span><span>Scholar from Wittenberg</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background & Education</h2>
                <p>Horatio is a scholar from the University of Wittenberg and Hamlet's closest confidant. He is distinct from the other characters in the court of Elsinore as he is not involved in the political intrigue or familial drama directly. He represents rationality, skepticism, and stoicism.</p>
            </div>
            <div class="about-section">
                <h2>Role in Play</h2>
                <p>Horatio serves as the audience surrogate and the voice of reason. He is the one Hamlet trusts to confirm the Ghost's likeness to the old King. Throughout the play, he listens to Hamlet's philosophies and provides a grounded perspective to Hamlet's wilder flights of fancy. He is the only character Hamlet truly trusts.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Unlike Hamlet, who is ruled by passion and overthinking, Horatio is described as a man who is "not passion's slave." He takes things as they come with a calm demeanor. He is initially skeptical of the supernatural but accepts the evidence of his eyes.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>Horatio witnesses the Ghost first and brings the news to Hamlet. He watches Claudius during the play-within-a-play to confirm his guilt. He receives Hamlet's letters regarding the pirates and meets him upon his return to Denmark.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>In the final scene, Horatio attempts to drink the remaining poison to die with Hamlet, in the style of an ancient Roman. Hamlet stops him, begging him to stay alive to tell the story. Horatio is the sole survivor of the main cast, tasked with explaining the tragedy to Fortinbras and the world.</p>
            </div>
        `,
        posts: [
            {
                title: "30 mins ago",
                content: "I saw something crazy on the battlements last night. You guys wouldn't believe me if I told you. It looked exactly like the old King. ğŸ‘»ğŸ‘€ #Spooky #Elsinore #NightWatch"
            },
            {
                title: "4 hours ago",
                content: "Just trying to keep Hamlet out of trouble. Full time job honestly. He's talking to skulls now. ğŸ˜“ğŸ¤ #Bestie #RideOrDie #ScholarLife"
            },
            {
                title: "Yesterday",
                content: "It's cold up here in Denmark. Missing Wittenberg uni life. The beer there was better, and fewer ghosts. ğŸºğŸ“š"
            },
            {
                title: "2 days ago",
                content: "Hamlet: 'There are more things in heaven and earth, Horatio, than are dreamt of in your philosophy.' Me: Okay, but can we just go inside? It's freezing. ğŸ¥¶âœ¨"
            },
            {
                title: "3 days ago",
                content: "Why am I the only rational person in this entire castle? Everyone is either scheming, mad, or drunk. ğŸ¤·â€â™‚ï¸ğŸ° #ElsinoreProblems"
            }
        ]
    },
    ophelia: {
        name: 'Ophelia',
        bio: 'Daughter of Polonius',
        location: 'ğŸ° Elsinore Castle',
        image: './assets/ophelia.jpeg',
        cover: './assets/ophelia.jpeg', // Water Lilies
        emoji: 'ğŸ‘¸',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ’”</span><span>It's Complicated with Hamlet</span></div>
            <div class="info-item"><span class="info-icon">ğŸ‘¨â€ğŸ‘§</span><span>Daughter of Polonius</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background</h2>
                <p>Ophelia is the young, beautiful daughter of Polonius and the sister of Laertes. She is a noblewoman of the court, living a sheltered life defined largely by her obedience to the men around herâ€”her father and her brother.</p>
            </div>
            <div class="about-section">
                <h2>Role in Play</h2>
                <p>Ophelia serves as a love interest for Hamlet and a pawn for Polonius and Claudius. She is used to spy on Hamlet to determine the cause of his madness. Her character arc is tragic, moving from innocence and obedience to utter psychological breakdown.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Ophelia is often viewed as the victim of the play. She is pulled in conflicting directions: she loves Hamlet, but wishes to obey her father. She has no agency of her own; her thoughts and actions are constantly policed. Her madness is interpreted as the only way she can finally speak her truth, albeit in riddles and songs.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>She returns Hamlet's letters/gifts at her father's command, enduring Hamlet's cruel "Get thee to a nunnery" speech. After her father is murdered by her former lover, she breaks down mentally, handing out symbolic flowers to the court (rue, rosemary, pansies) and singing bawdy and mournful songs.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>Ophelia drowns in a brook. Gertrude describes it as an accident where she fell while hanging wreaths on a willow tree, and she floated singing until her heavy clothes pulled her down. However, the gravediggers imply it may have been suicide. She is buried with "maimed rites."</p>
            </div>
        `,
        posts: [
            {
                title: "Just now",
                content: "GUYS!!! ğŸ˜± I cannot believe it! Taylor Swift literally mentioned me in <i>The Tortured Poets Department</i>! ğŸ¤ğŸµ Finally someone understands the aesthetic of tragic romance and water imagery! ğŸŒŠğŸ’ #TTPD #ButDaddyILoveHim #Swiftie"
            },
            {
                title: "5 hours ago",
                content: "He loves me... he loves me not... ğŸŒ¼ğŸ¥€ returning his letters today. It hurts but dad says it's for the best. Why is love so complicated? ğŸ’” #Heartbreak"
            },
            {
                title: "Yesterday",
                content: "Laertes is leaving for France. Who am I going to talk to now? ğŸ¥º Don't do anything stupid while you're gone! Miss you already. ğŸ‡«ğŸ‡·âœ¨"
            },
            {
                title: "2 days ago",
                content: "My dad just gave me a two-hour lecture on how to behave. 'Do not believe his vows,' he said. Ugh, parents just don't understand. ğŸ™„ğŸ‘¨â€ğŸ‘§ #StrictDad"
            },
            {
                title: "3 days ago",
                content: "Found the prettiest spot by the willow tree near the brook today. The water looks so peaceful. Might weave some flower crowns later. ğŸŒ¸ğŸŒ¿ğŸ’§ #CottageCore #Nature"
            }
        ]
    },
    gertrude: {
        name: 'Queen Gertrude',
        bio: 'Queen of Denmark',
        location: 'ğŸ‘‘ Elsinore Castle',
        image: './assets/queengertrude.jpeg',
        cover: './assets/queengertrude.jpeg', // Classical Painting vibe
        emoji: 'ğŸ‘‘',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ‘‘</span><span>Queen of Denmark</span></div>
            <div class="info-item"><span class="info-icon">ğŸ‘¨â€ğŸ‘¦</span><span>Mother of Hamlet</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background</h2>
                <p>Gertrude is the Queen of Denmark. She was the wife of King Hamlet and, shortly after his death, married his brother Claudius. This hasty marriage is the source of much of the conflict in the play.</p>
            </div>
            <div class="about-section">
                <h2>Role in Play</h2>
                <p>Gertrude is central to the plot as the object of Hamlet's anger and obsession. She tries to mediate between Hamlet and Claudius, wishing for her son to accept the new reality. She is generally portrayed as a woman who values status and affection over moral rigidity.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Gertrude's character is ambiguous. It is never fully clear if she knew about the murder of her first husband. She seems to genuinely love Hamlet and is distressed by his madness. She is often viewed as a character defined by her relationships with men and her desire to maintain peace within the court.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>She marries Claudius within two months of the King's funeral. She invites Rosencrantz and Guildenstern to cheer up Hamlet. In the famous 'closet scene', she is confronted violently by Hamlet and admits her soul is 'black'. She later narrates Ophelia's death to the court.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>During the final duel, she toasts to Hamlet's success and drinks from the poisoned cup that Claudius prepared for Hamlet, despite Claudius telling her not to. She dies realizing the treachery, crying out, "The drink, the drink! I am poisoned."</p>
            </div>
        `,
        posts: [
            {
                title: "3 hours ago",
                content: "Hamlet needs to stop wearing black. It's been two months! Darling, please cheer up. Everyone dies eventually, it's just nature. ğŸ–¤ğŸ˜© #EmoSon #RoyalFamily #MoveOn"
            },
            {
                title: "Yesterday",
                content: "Married the King! ğŸ’ğŸ‘‘ It's been a whirlwind, but Claudius is so supportive. Hoping for peace and stability for Denmark. The roast was delicious. âœ¨ #JustMarried #NewChapter"
            },
            {
                title: "2 days ago",
                content: "The players are in town! I love a good show. Hope Hamlet enjoys it too, he's been so mopey lately. ğŸ­ğŸ¿ #FamilyNight"
            },
            {
                title: "3 days ago",
                content: "Worried about my son. He's speaking to thin air and dragging Polonius around on a rug. Does anyone have a recommendation for a good therapist in Elsinore? ğŸ©ºğŸ˜° #MomLife"
            },
            {
                title: "4 days ago",
                content: "Looking forward to the fencing match. Hamlet has been practicing! I'm betting on my boy. ğŸ¤ºğŸ† #TeamHamlet"
            }
        ]
    },
    claudius: {
        name: 'King Claudius',
        bio: 'King of Denmark',
        location: 'ğŸ‘‘ Elsinore Castle',
        image: './assets/kingclaudius.jpeg',
        cover: './assets/kingclaudius.jpeg', // Danish Royal Portrait
        emoji: 'ğŸ‘¨â€ğŸ‘¦',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ‘‘</span><span>King of Denmark</span></div>
            <div class="info-item"><span class="info-icon">âš”ï¸</span><span>Antagonist</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background & Role</h2>
                <p>Claudius is the brother of the late King Hamlet, the second husband of Gertrude, and the uncle/stepfather of Prince Hamlet. He is the play's antagonistâ€”a calculating, ambitious politician who obtained the throne through murder.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Claudius is a Machiavellian figure. He is an effective ruler who manages foreign threats (Fortinbras) diplomatically. However, he is consumed by guilt and fear. He acknowledges his crime ("O, my offence is rank") but is unwilling to give up the prizes he won by it: his crown, his ambition, and his queen.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>He murdered his brother by pouring poison in his ear. He manipulated the court to accept his marriage to Gertrude. Throughout the play, he spies on Hamlet (using Rosencrantz, Guildenstern, and Polonius) and eventually plots Hamlet's deathâ€”first by sending him to England to be executed, and then by rigging a fencing match.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>His schemes unravel in the final act. Gertrude drinks the poison intended for Hamlet. Laertes reveals Claudius's treachery. Hamlet then forces Claudius to drink the poisoned wine and stabs him. He dies unmourned, killed by his own trap.</p>
            </div>
        `,
        posts: [
            {
                title: "4 hours ago",
                content: "Heavy is the head that wears the crown. ğŸ‘‘ But someone has to step up for Denmark during these trying times. We move forward with strength! ğŸ‡©ğŸ‡° #Leadership #NewKing #Stability"
            },
            {
                title: "Yesterday",
                content: "Wonderful wedding reception! Thank you to everyone who celebrated with Gertrude and me. â¤ï¸ğŸ¥‚ Joy and sorrow mixed, but we are strong together. #RoyalWedding"
            },
            {
                title: "3 days ago",
                content: "Anyone know a good diplomatic strategy for dealing with Norway? Young Fortinbras is getting a bit rowdy on the border. âš”ï¸ğŸ˜… #ForeignPolicy #Diplomacy"
            },
            {
                title: "4 days ago",
                content: "Does anyone else feel like they're being watched? Or maybe like a play is mocking you? Just a weird feeling. Probably nothing. ğŸ­ğŸ‘€ #Paranoia"
            },
            {
                title: "5 days ago",
                content: "Sending Hamlet to England for a little 'vacation'. I think the sea air will do him good. ğŸŒŠğŸš¢ #Travel #BonVoyage #PleaseDontComeBack"
            }
        ]
    },
    laertes: {
        name: 'Laertes',
        bio: 'Son of Polonius',
        location: 'ğŸ‡«ğŸ‡· Paris / ğŸ‡©ğŸ‡° Denmark',
        image: './assets/laertes.jpeg',
        cover: './assets/laertes.jpeg', // Paris
        emoji: 'âš”ï¸',
        intro: `
            <div class="info-item"><span class="info-icon">âš”ï¸</span><span>Skilled Swordsman</span></div>
            <div class="info-item"><span class="info-icon">ğŸ‘¨â€ğŸ‘§</span><span>Brother of Ophelia</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background</h2>
                <p>Laertes is the son of Polonius and the brother of Ophelia. He spends much of the play in France. He is portrayed as a young, hot-headed noble who acts as a foil to Hamlet. While Hamlet thinks and hesitates, Laertes acts on impulse.</p>
            </div>
            <div class="about-section">
                <h2>Role in Play</h2>
                <p>He begins as a protective brother warning Ophelia about Hamlet. Upon returning to Denmark and finding his father dead and his sister mad, he leads a rebellion, storming the castle. He becomes the instrument of Claudius's plot to kill Hamlet.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Laertes is driven by a code of honor and revenge. Unlike Hamlet, he does not question the morality of revenge; he claims he would cut Hamlet's throat "i' the church." He cares deeply for his family, and their destruction drives him to treachery.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>He warns Ophelia to guard her chastity. He storms Elsinore demanding answers for Polonius's death. He conspires with Claudius to poison his sword tip for a rigged duel against Hamlet. He fights Hamlet in Ophelia's grave.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>In the duel, he wounds Hamlet with the poisoned blade. However, in a scuffle, they exchange swords, and Hamlet wounds Laertes with the same weapon. Realizing he is dying, Laertes confesses the plot, blames the King, exchanges forgiveness with Hamlet, and dies.</p>
            </div>
        `,
        posts: [
            {
                title: "1 hour ago",
                content: "Paris bound! ğŸ‡«ğŸ‡·ğŸ¥– Can't wait to get back to the city. Peace out Elsinore! Don't wait up dad. âœŒï¸âœˆï¸ #StudyAbroad #ParisLife"
            },
            {
                title: "5 hours ago",
                content: "Ophelia, remember what I said about Hamlet. He's a Prince, he can't choose his own wife. Don't get your heart broken, sis. ğŸ›¡ï¸ğŸ˜  #BigBrotherMode #Advice"
            },
            {
                title: "Yesterday",
                content: "Packing is the worst. How many swords do I actually need for a semester abroad? Probably all of them. âš”ï¸ğŸ¤” #Fencing"
            },
            {
                title: "3 days ago",
                content: "Just got back to Denmark. THE HELL HAPPENED HERE? Where is my father?! Who did this?! ğŸ˜¡ğŸ”¥ #Rage #Revenge"
            },
            {
                title: "4 days ago",
                content: "Bought some special 'ointment' from a mountebank for my sword. Just in case I need to make a scratch really count. â˜ ï¸ğŸ—¡ï¸ #DuelReady"
            }
        ]
    },
    polonius: {
        name: 'Polonius',
        bio: 'Lord Chamberlain',
        location: 'ğŸ° Elsinore Castle',
        image: './assets/polonius.jpeg',
        cover: 'https://images.unsplash.com/photo-1528459584353-5297db1a9c01?auto=format&fit=crop&w=1200&q=80', // Tapestry (The Arras)
        emoji: 'ğŸ‘´',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ‘”</span><span>Advisor to the King</span></div>
            <div class="info-item"><span class="info-icon">ğŸ•µï¸</span><span>Professional Spy</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Background & Role</h2>
                <p>Polonius is the Lord Chamberlain of Claudius's court, a high-ranking counselor. He is the father of Laertes and Ophelia. He portrays himself as a wise statesman, but he is often depicted as a pompous, rambling old man who loves the sound of his own voice.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>Polonius is a cynic and a schemer. He believes he is the smartest person in the room. He is obsessed with control and surveillance, frequently spying on his own children (sending Reynaldo to spy on Laertes in Paris) and using his daughter to entrap Hamlet.</p>
            </div>
            <div class="about-section">
                <h2>Key Actions</h2>
                <p>He gives the famous "To thine own self be true" speech to Laertes. He deduces (incorrectly) that Hamlet's madness is caused by love for Ophelia. He arranges to spy on Hamlet twiceâ€”once while Hamlet talks to Ophelia, and once while Hamlet talks to Gertrude.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>While spying on Hamlet and Gertrude behind an arras (tapestry) in the Queen's bedroom, he cries out for help when Gertrude panics. Hamlet, thinking it is the King hiding there, stabs through the fabric and kills Polonius. His death is the catalyst for Ophelia's madness and Laertes' return.</p>
            </div>
        `,
        posts: [
            {
                title: "1 hour ago",
                content: "To thine own self be true. Just dropped some wisdom on my son before his trip. Hope he listens! Brevity is the soul of wit, as I always say (proceeds to talk for 20 mins). ğŸ‘‚ğŸ“œ #Parenting #Wisdom #BriefnessIsTheSoulOfWit"
            },
            {
                title: "4 hours ago",
                content: "I have a theory about Prince Hamlet. It's definitely love sickness. I was quite the player in my youth too, I know the signs. I suffer much extremity for love. ğŸ˜‰ğŸ’” #Investigator #LoveExpert"
            },
            {
                title: "Yesterday",
                content: "Hiding behind curtains is actually a great way to gather information. Highly recommend. Although this tapestry is a bit dusty. ğŸ•µï¸â€â™‚ï¸ğŸ¤« #SpyLife #WorkSmart"
            },
            {
                title: "2 days ago",
                content: "Reynaldo, check your DMs. I have a very specific list of rumors I need you to spread about Laertes to see if he's behaving. It's called 'bait of falsehood takes this carp of truth'. ğŸ£ğŸ§  #GeniusStrategy"
            },
            {
                title: "3 days ago",
                content: "Just had a chat with the King. He agrees with me completely. Being right is a burden, but someone has to bear it. ğŸ˜ŒğŸ›ï¸ #Politics"
            }
        ]
    },
    ghost: {
        name: 'The Ghost',
        bio: 'Spirit of King Hamlet',
        location: 'ğŸ‘» The Afterlife',
        image: './assets/ghost.jpeg',
        cover: 'https://images.unsplash.com/photo-1511497584788-876760111969?auto=format&fit=crop&w=1200&q=80', // Spooky Gothic Art
        emoji: 'ğŸ‘»',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ‘»</span><span>Spirit of the King</span></div>
            <div class="info-item"><span class="info-icon">âš”ï¸</span><span>Seeking Revenge</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Role in Play</h2>
                <p>The Ghost is the spirit of the late King Hamlet. He appears in the very first scene to the guards and Horatio, but will only speak to his son, Prince Hamlet. He is the catalyst of the entire tragedy, demanding that Hamlet avenge his "foul and most unnatural murder."</p>
            </div>
            <div class="about-section">
                <h2>Character Description</h2>
                <p>The Ghost appears dressed in the full armor King Hamlet wore when he combated Norway. He describes a painful existence in Purgatory, where he is "doomed for a certain term to walk the night" and burn in fires during the day to purge his sins, as he died without Last Rites.</p>
            </div>
            <div class="about-section">
                <h2>Perspective</h2>
                <p>The Ghost is angry and demands justice. However, he also shows care for Gertrude, explicitly telling Hamlet to leave her to heaven and her own conscience ("Taint not thy mind, nor let thy soul contrive against thy mother aught"). His nature is ambiguousâ€”Hamlet frequently questions if it is truly his father or a demon sent to tempt him.</p>
            </div>
            <div class="about-section">
                <h2>Fate</h2>
                <p>After delivering his message and reappearing once more in the Queen's closet to sharpen Hamlet's "almost blunted purpose," the Ghost disappears. Presumably, once Claudius is killed, his spirit can find rest, though the play does not explicitly confirm this.</p>
            </div>
        `,
        posts: [
            {
                title: "Midnight",
                content: "REMEMBER ME. ğŸ”¥ğŸ˜¡ #Revenge #Justice"
            },
            {
                title: "3:00 AM",
                content: "Sleeping in the orchard was a mistake. 0/10 would not recommend. Note to self: Check ears for poison before napping. ğŸğŸ‘‚â˜ ï¸"
            },
            {
                title: "Yesterday",
                content: "Adieu, adieu, adieu. The glow-worm shows the matin to be near. Gotta bounce before sunrise. Being a ghost is exhausting. ğŸŒ…ğŸ‘» #NightShift #PurgatoryBlues"
            },
            {
                title: "2 days ago",
                content: "Why is my son taking so long? I gave him very specific instructions. SWORD + UNCLE = REVENGE. It's not that hard, Hamlet. ğŸ™„ğŸ•°ï¸ #Impatients"
            },
            {
                title: "3 days ago",
                content: "Just popped into Gertrude's room. She couldn't see me. Awkward. Hamlet looked like he was seeing a ghost though. ğŸ˜‰ğŸ‘» #Invisible"
            }
        ]
    },
    // NEW CHARACTER ADDED HERE
    hamlet_story: {
        name: 'Hamlet (Story)',
        bio: 'The Tragedy itself ğŸ“–',
        location: 'ğŸ‡©ğŸ‡° Denmark / ğŸ‡¬ğŸ‡§ The Globe',
        image: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?auto=format&fit=crop&w=1200&q=80', // Book
        cover: 'https://images.unsplash.com/photo-1507842217153-e52fbc0dec11?auto=format&fit=crop&w=1200&q=80', // Library
        emoji: 'ğŸ“š',
        intro: `
            <div class="info-item"><span class="info-icon">ğŸ­</span><span>Genre: Tragedy</span></div>
            <div class="info-item"><span class="info-icon">ğŸ“…</span><span>Written: 1599-1601</span></div>
            <div class="info-item"><span class="info-icon">ğŸ“œ</span><span>Lines: 4,042</span></div>
        `,
        about: `
            <div class="about-section">
                <h2>Author Biography</h2>
                <p>Shakespeare's life and the personal grief in the text.</p>
                <p><strong>The Hamnet Connection:</strong> Shakespeare's only son, Hamnet, died at age 11 in 1596 (a few years before the play was written).</p>
                <p><strong>The Twin:</strong> Hamnet had a twin sister named Judith. The surviving twin's grief and the void left in the family likely influenced the play's intense focus on death and mourning.</p>
                <p><strong>Shakespeare's Role:</strong> Legend says Shakespeare himself played the Ghost, meaning the father (playwright) appeared on stage to the son (character) to demand remembrance.</p>
            </div>

            <div class="about-section">
                <h2>Detailed Story Summary</h2>
                <p>A deeper dive into the tragedy of the Prince of Denmark.</p>
                
                <h3>Phase 1: The Ghost and the Vow</h3>
                <p>Prince Hamlet is depressed. His father (King Hamlet) has died, and his mother (Gertrude) immediately married his uncle (Claudius), who took the throne. The ghost of King Hamlet appears and tells Hamlet that Claudius murdered him by pouring poison in his ear. He demands revenge. Hamlet agrees but is plagued by doubt: Is the ghost real, or a demon tempting him?</p>

                <h3>Phase 2: The Madness and the Test</h3>
                <p>To hide his intentions, Hamlet pretends to be mad. He rejects Ophelia (his love interest), causing her father, Polonius, to believe Hamlet is "mad with love." To prove Claudius's guilt, Hamlet hires actors to perform a play (The Mousetrap) that reenacts the murder.</p>

                <h3>Phase 3: The Turning Point</h3>
                <p>During the play, Claudius panics and storms out, proving his guilt. Hamlet has a chance to kill Claudius while he is praying but hesitates, worrying that killing him in prayer will send his soul to heaven. Instead, Hamlet confronts his mother. Hearing a noise behind a tapestry (arras), he stabs through it, thinking it is the King. It is actually Polonius, whom he kills.</p>

                <h3>Phase 4: The Spiral</h3>
                <p>Claudius sends Hamlet away to England with secret orders to have him executed, but Hamlet escapes. Back in Denmark, Ophelia goes truly mad with grief over her father's death and drowns herself. Her brother, Laertes, returns demanding revenge. Claudius manipulates Laertes into a fencing match with Hamlet, using a poisoned blade.</p>

                <h3>Phase 5: The Tragic Finale</h3>
                <p>The duel begins.</p>
                <ul>
                    <li>Gertrude accidentally drinks poisoned wine intended for Hamlet and dies.</li>
                    <li>Laertes wounds Hamlet with the poisoned blade.</li>
                    <li>In a scuffle, they switch swords, and Hamlet wounds Laertes with the poisoned blade.</li>
                    <li>Dying, Laertes reveals the King's plot.</li>
                    <li>Hamlet finally forces Claudius to drink the poison, killing him.</li>
                    <li>Hamlet dies, leaving his friend Horatio alive to tell the story. Fortinbras of Norway arrives to claim the throne.</li>
                </ul>
            </div>

            <div class="about-section">
                <h2>Context & Literary Merit</h2>
                <p>Written between 1599 and 1601, <i>Hamlet</i> is often cited as the summit of Shakespeare's dramatic art. It marks a shift from the clear-cut revenge tragedies of the era (like Kyd's <i>The Spanish Tragedy</i>) to a new form of psychological drama where the conflict is primarily internal. The play is famous for its "poem unlimited" structure, blending high philosophical discourse with bawdy humor and intense action.</p>
            </div>

            <div class="about-section">
                <h2>Origins & Historical Anxiety</h2>
                <p>Shakespeare didn't invent the plot; he adapted it from the Scandinavian legend of <strong>Amleth</strong>, recorded by Saxo Grammaticus in the 12th century. In the original, the hero fakes madness to survive and eventually burns down the hall to kill his uncle. Shakespeare transformed this straightforward revenge tale into a complex psychological study.</p>
            </div>

            <div class="about-section">
                <h2>Historical Context: The Elizabethan Anxiety</h2>
                <p>Written around 1600, the play reflects the anxieties of late Elizabethan England. <strong>Queen Elizabeth I</strong> was aging without an heir, creating a national fear of succession crisis, foreign invasion, and civil warâ€”mirrored in the play by the threat of Fortinbras and the "rotten" state of Denmark. The play's obsession with legitimacy, spying, and regime change would have resonated deeply with its original audience.</p>
            </div>
            
            <div class="about-section">
                <h2>Universal Themes</h2>
                <p><strong>Action vs. Inaction:</strong> The central conflict is Hamlet's delay. Why does he hesitate? Is it cowardice, moral scruple, or over-intellectualization? This paralysis is a universal human experience.<br>
                <strong>Appearance vs. Reality:</strong> "One may smile, and smile, and be a villain." The play is obsessed with the difference between what seems to be (Claudius as a benevolent king) and what is (Claudius as a murderer).<br>
                <strong>Mortality:</strong> From the Ghost to the graveyard scene with Yorick's skull, the play relentlessly questions what happens after death ("The undiscovered country").</p>
            </div>

            <div class="about-section">
                <h2>Psychological Depth & The Tragic Hero</h2>
                <p>Hamlet is the quintessential tragic hero, but his "fatal flaw" (hamartia) is debated. Is it his indecision? His Oedipal complex (as Freud suggested)? Or is he simply a man of acute moral sensitivity trapped in a corrupt world? He is the first character in literature to possess a fully realized inner life, shown through his soliloquies where he speaks his raw, unfiltered thoughts to the audience.</p>
            </div>

            <div class="about-section">
                <h2>Notable Adaptations</h2>
                <p>How the story has been retold across centuries and genres.</p>
                
                <h3>The "Purist" Version:</h3>
                <p><strong>Hamlet (1996):</strong> Directed by Kenneth Branagh. It is one of the few film versions to use the complete, uncut text of the play, running over 4 hours long.</p>

                <h3>The "Classic" Version:</h3>
                <p><strong>Hamlet (1948):</strong> Directed by and starring Laurence Olivier. It strips the play of its political elements to focus purely on the psychological drama.</p>

                <h3>The "Pop Culture" Twist:</h3>
                <p><strong>The Lion King (1994):</strong> Disney's loose adaptation. Simba is Hamlet, Mufasa is the King, Scar is Claudius, and Timon & Pumbaa are Rosencrantz & Guildenstern.</p>
                <p><strong>Rosencrantz & Guildenstern Are Dead (1990):</strong> A film (based on a play) that retells the story from the perspective of the two confused minor characters.</p>

                <h3>Modern Settings:</h3>
                <p><strong>Hamlet (2000):</strong> Starring Ethan Hawke. Set in modern-day New York City; the "King" is the CEO of the Denmark Corporation.</p>
            </div>

            <div class="about-section">
                <h2>Why is it a Great Book?</h2>
                <p><i>Hamlet</i> is considered a Great Book because of its inexhaustible interpretive possibilities. It holds a mirror up to every generation; Romantic critics saw Hamlet as a sensitive soul, Freudians saw suppressed desire, and modernists saw existential despair. Its language ("To be or not to be," "This above all: to thine own self be true") has become part of the very fabric of the English language.</p>
            </div>
        `,
        posts: [
            {
                title: "Act I",
                content: "Something is rotten in the state of Denmark... ğŸ‘»ğŸ° #Exposition #Ghost"
            },
            {
                title: "Act II",
                content: "Though this be madness, yet there is method in't. ğŸ¤ªğŸ­ #RisingAction #AnticDisposition"
            },
            {
                title: "Act III",
                content: "The play's the thing wherein I'll catch the conscience of the King! ğŸğŸ‘‘ #Climax #TheMousetrap"
            },
            {
                title: "Act IV",
                content: "When sorrows come, they come not single spies, but in battalions. ğŸŒŠğŸ¥€ #FallingAction #Ophelia"
            },
            {
                title: "Act V",
                content: "The rest is silence. âš”ï¸ğŸ’€ #Catastrophe #TheEnd"
            }
        ]
    }
};

let currentProfile = 'hamlet';

function switchTab(tab) {
    // Remove active class from all tabs
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(t => t.classList.remove('active'));
    
    // Hide all content areas
    document.getElementById('postsTab').classList.add('hidden');
    document.getElementById('aboutTab').classList.add('hidden');
    document.getElementById('friendsTab').classList.add('hidden');
    
    // Show selected tab and add active class
    if (tab === 'posts') {
        document.getElementById('postsTab').classList.remove('hidden');
        tabs[0].classList.add('active');
    } else if (tab === 'about') {
        document.getElementById('aboutTab').classList.remove('hidden');
        tabs[1].classList.add('active');
    } else if (tab === 'friends') {
        document.getElementById('friendsTab').classList.remove('hidden');
        tabs[2].classList.add('active');
    }
}

function renderFriends(profileId) {
    const friendsKeys = Object.keys(profiles).filter(k => k !== profileId);
    
    // Constraint: Hamlet must appear as a friend of every character profile.
    // If we are NOT viewing Hamlet, ensure Hamlet is in the list, preferably first.
    if (profileId !== 'hamlet') {
        // Sort so hamlet is first
        friendsKeys.sort((a, b) => {
            if (a === 'hamlet') return -1;
            if (b === 'hamlet') return 1;
            return 0;
        });
    }

    let sidebarHTML = '';
    let mainTabHTML = '';

    friendsKeys.forEach(key => {
        const friend = profiles[key];
        // Ensure image is valid, fall back to emoji if somehow missing (though all are filled now)
        const imgHTML = friend.image 
            ? `<img src="${friend.image}" alt="${friend.name}">` 
            : `<div style="display:flex;align-items:center;justify-content:center;height:100%;font-size:30px;">${friend.emoji}</div>`;

        // Sidebar card
        sidebarHTML += `
            <div class="friend-card" onclick="viewProfile('${key}')">
                <div class="friend-avatar">${imgHTML}</div>
                <div class="friend-name">${friend.name.split(',')[0]}</div>
            </div>
        `;

        // Main tab card
        mainTabHTML += `
            <div class="friend-page-card" onclick="viewProfile('${key}')">
                <div class="friend-page-avatar">${imgHTML}</div>
                <div class="friend-page-info">
                    <h3 class="friend-page-name">${friend.name}</h3>
                    <p class="friend-page-role">${friend.bio}</p>
                </div>
            </div>
        `;
    });

    document.getElementById('sidebarFriendsGrid').innerHTML = sidebarHTML;
    document.getElementById('mainFriendsGrid').innerHTML = mainTabHTML;
}

function renderPosts(profileData) {
    const postsContainer = document.getElementById('postsTab');
    postsContainer.innerHTML = ''; // Clear existing

    profileData.posts.forEach((post, index) => {
        const postId = `${currentProfile}-${index}`;
        
        // Determine Avatar for post
        const imgHTML = profileData.image 
            ? `<img src="${profileData.image}" alt="${profileData.name}">` 
            : `<div style="display:flex;align-items:center;justify-content:center;height:100%;font-size:20px;">${profileData.emoji}</div>`;

        // Get reactions for this post
        const postReactionData = postReactions[postId] || {};
        const userReaction = postReactionData.userReaction || null;
        const reactionCounts = postReactionData.counts || {};
        
        // Calculate total reactions and get top reactions
        const totalReactions = Object.values(reactionCounts).reduce((sum, count) => sum + count, 0);
        const topReactions = Object.entries(reactionCounts)
            .filter(([_, count]) => count > 0)
            .sort(([_, a], [__, b]) => b - a)
            .slice(0, 3)
            .map(([type, _]) => type);

        // Build reaction summary HTML
        let reactionSummaryHTML = '';
        if (totalReactions > 0) {
            const iconsHTML = topReactions.map(type => 
                `<span class="reaction-icon" style="background: ${reactions[type].color}">${reactions[type].emoji}</span>`
            ).join('');
            reactionSummaryHTML = `
                <div class="reaction-summary">
                    <div class="reaction-icons">${iconsHTML}</div>
                    <span>${totalReactions}</span>
                </div>
            `;
        }

        // Determine like button state
        const likeButtonClass = userReaction ? 'reacted' : '';
        const likeButtonText = userReaction ? reactions[userReaction].label : 'Like';
        const likeButtonEmoji = userReaction ? reactions[userReaction].emoji : 'ğŸ‘';

        // Build reaction picker with selected state
        const reactionPickerHTML = Object.entries(reactions).map(([type, data]) => {
            const selectedClass = userReaction === type ? 'selected' : '';
            return `<div class="reaction-option ${selectedClass}" onclick="handleReaction('${postId}', '${type}')" title="${data.label}">${data.emoji}</div>`;
        }).join('');

        // Get comments for this post
        const comments = postComments[postId] || [];
        const commentsToShow = comments.slice(-3); // Show last 3 comments
        const hiddenCommentsCount = comments.length - commentsToShow.length;

        // Build comments HTML
        let commentsHTML = '';
        if (hiddenCommentsCount > 0) {
            commentsHTML += `<div class="view-more-comments" onclick="alert('View all ${comments.length} comments')">View ${hiddenCommentsCount} more comment${hiddenCommentsCount > 1 ? 's' : ''}</div>`;
        }

        commentsToShow.forEach((comment, commentIndex) => {
            const commentAvatar = comment.avatar || 'ğŸ‘¤';
            commentsHTML += `
                <div class="comment">
                    <div class="comment-avatar">${commentAvatar}</div>
                    <div class="comment-content">
                        <div class="comment-bubble">
                            <div class="comment-author">${comment.author}</div>
                            <div class="comment-text">${comment.text}</div>
                        </div>
                        <div class="comment-meta">
                            <span>Like</span>
                            <span>Reply</span>
                            <span>${comment.time}</span>
                        </div>
                    </div>
                </div>
            `;
        });

        const html = `
        <div class="post-card">
            <div class="post-header">
                <div class="post-avatar">${imgHTML}</div>
                <div class="post-info">
                    <h3>${profileData.name}</h3>
                    <div class="post-time">${post.title}</div>
                </div>
            </div>
            <div class="post-content">
                ${post.content}
            </div>
            ${reactionSummaryHTML}
            <div class="post-actions">
                <button class="action-btn ${likeButtonClass}" onclick="handleLikeClick('${postId}')">
                    <span>${likeButtonEmoji}</span>
                    <span>${likeButtonText}</span>
                    <div class="reaction-picker" onclick="event.stopPropagation()">
                        ${reactionPickerHTML}
                    </div>
                </button>
                <button class="action-btn" onclick="focusCommentInput('${postId}')">
                    <span>ğŸ’¬</span>
                    <span>Comment</span>
                </button>
                <button class="action-btn">
                    <span>â†—ï¸</span>
                    <span>Share</span>
                </button>
            </div>
            <div class="comments-section">
                ${commentsHTML}
                <div class="comment-input-container">
                    <div class="comment-avatar">ğŸ‘¤</div>
                    <div class="comment-input-wrapper">
                        <textarea 
                            class="comment-input" 
                            id="comment-input-${postId}"
                            placeholder="Write a comment..." 
                            rows="1"
                            onkeypress="handleCommentKeypress(event, '${postId}')"
                        ></textarea>
                        <button class="comment-submit" onclick="submitComment('${postId}')">Post</button>
                    </div>
                </div>
            </div>
        </div>`;
        postsContainer.innerHTML += html;
    });
}

function handleReaction(postId, reactionType) {
    if (!postReactions[postId]) {
        postReactions[postId] = { userReaction: null, counts: {} };
    }

    const postData = postReactions[postId];
    const previousReaction = postData.userReaction;

    // Remove previous reaction count
    if (previousReaction) {
        postData.counts[previousReaction] = (postData.counts[previousReaction] || 1) - 1;
    }

    // Add new reaction
    if (previousReaction === reactionType) {
        // If clicking same reaction, remove it
        postData.userReaction = null;
    } else {
        // Set new reaction
        postData.userReaction = reactionType;
        postData.counts[reactionType] = (postData.counts[reactionType] || 0) + 1;
    }

    // Re-render posts to update UI
    viewProfile(currentProfile);
}

function handleLikeClick(postId) {
    if (!postReactions[postId]) {
        postReactions[postId] = { userReaction: null, counts: {} };
    }

    const postData = postReactions[postId];
    const currentReaction = postData.userReaction;

    if (currentReaction) {
        // Remove current reaction
        postData.counts[currentReaction] = (postData.counts[currentReaction] || 1) - 1;
        postData.userReaction = null;
    } else {
        // Add default like
        postData.userReaction = 'like';
        postData.counts.like = (postData.counts.like || 0) + 1;
    }

    // Re-render posts to update UI
    viewProfile(currentProfile);
}

function focusCommentInput(postId) {
    setTimeout(() => {
        const input = document.getElementById(`comment-input-${postId}`);
        if (input) {
            input.focus();
        }
    }, 0);
}

function handleCommentKeypress(event, postId) {
    if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        submitComment(postId);
    }
}

function submitComment(postId) {
    const input = document.getElementById(`comment-input-${postId}`);
    const commentText = input.value.trim();
    
    if (!commentText) return;
    
    if (!postComments[postId]) {
        postComments[postId] = [];
    }
    
    // Add new comment
    postComments[postId].push({
        author: 'You',
        avatar: 'ğŸ‘¤',
        text: commentText,
        time: 'Just now'
    });
    
    // Clear input and re-render
    input.value = '';
    viewProfile(currentProfile);
    
    // Refocus on the input after render
    setTimeout(() => {
        const newInput = document.getElementById(`comment-input-${postId}`);
        if (newInput) {
            newInput.focus();
        }
    }, 0);
}

function viewProfile(profileId) {
    currentProfile = profileId;
    const profile = profiles[profileId];
    
    // Update profile header
    document.getElementById('profileName').textContent = profile.name;
    document.getElementById('profileBio').textContent = profile.bio;
    document.getElementById('profileLocation').textContent = profile.location;
    
    // Update profile picture
    const profilePicContainer = document.querySelector('.profile-picture');
    if (profile.image) {
        profilePicContainer.innerHTML = `<img id="mainProfilePic" src="${profile.image}" alt="${profile.name}">`;
    } else {
        profilePicContainer.innerHTML = `<div>${profile.emoji}</div>`;
    }

    // UPDATE COVER PHOTO
    const coverDiv = document.querySelector('.cover-photo');
    if (profile.cover) {
        coverDiv.style.backgroundImage = `url('${profile.cover}')`;
    } else {
        // Fallback gradient
        coverDiv.style.backgroundImage = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
    }
    
    // Update intro content
    document.getElementById('introContent').innerHTML = profile.intro;
    
    // Update About Tab Content
    document.getElementById('aboutTabContent').innerHTML = profile.about;

    // RENDER DYNAMIC CONTENT
    renderFriends(profileId);
    renderPosts(profile);
    
    // Switch to posts tab
    switchTab('posts');
    
    // Scroll to top
    window.scrollTo(0, 0);
}

function goToHamlet() {
    viewProfile('hamlet');
}

// Initial Load
window.onload = function() {
    viewProfile('hamlet');
};
</script>

<footer style="padding: 1rem; padding-top: 2rem; display:flex; flex-direction: column; align-items: center; justify-content: center;">
        <h3 style="margin: 0;">Â© All Rights Reserved</h3>
        <p>Bagato, Bas, Inocencio | BSIT - 4A</p>
    </footer>

</body>
</html>